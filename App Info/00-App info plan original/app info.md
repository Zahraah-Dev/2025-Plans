# **1\) ุชูุณูู ุทุจูุงุช ูุธูู (Clean Layers)**

**ุงููุงุนุฏุฉ:** ุงูุตู ุจูู **Presentation** (UI), **Application** (State/Use-cases), **Domain** (Entities), **Data** (Repos & Sources).  
**ุงููุงุฆุฏุฉ:** ุณูููุฉ ุงูุงุฎุชุจุงุฑุ ุชูููู ุงูุชุฑุงุจุทุ ุชุจุฏูู ุงููุตุงุฏุฑ ุฃู ุงูุชุตููู ุจุฏูู ุชูุณูุฑ.  
**ุงูุชุทุจูู ุงูุณุฑูุน:**

`/lib`  
  `/features`  
    `/catalog/ (UI + controllers + repo + models ููุฐู ุงูููุฒุฉ ููุท)`  
    `/cart/`  
    `/checkout/`  
  `/core`  
    `/domain/ (entities, value_objects)`  
    `/data/   (http_client, local_db, cache)`  
    `/app/    (router, theme, l10n, di, errors, result)`

# **2\) ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ูุญูู ุงูุงุนุชูุงุฏูุงุช (State & DI)**

**ุงููุงุนุฏุฉ:** ุงุณุชุฎุฏู **Riverpod** (ุฃู Blocโุงุฎุชุฑ ูุงุญุฏูุง ูุซุจูุชู) \+ DI ุนุจุฑ Providers.  
**ุงููุงุฆุฏุฉ:** ุฅุนุงุฏุฉ ุจูุงุก Widgets ุจุฐูุงุกุ ุงุฎุชุจุงุฑุงุช ุณููุฉุ ูุชุฌููุจ Singleton ุงูุนุดูุงุฆู.  
**ุงูุชุทุจูู:**

* `ProviderScope` ูู `main.dart`.  
* `StateNotifier` ููู ููุทู ููุฒุฉ (CartController, AuthControllerโฆ).  
* `Provider` ููุงุฌูุงุช Reposุ ู`Provider` ูุนููุงุก ุงูุดุจูุฉ/ุงูุชุฎุฒูู.

# **3\) ููุงุฐุฌ ุบูุฑ ูุงุจูุฉ ููุชุบููุฑ (Immutable Models)**

**ุงููุงุนุฏุฉ:** ุงุณุชุฎุฏู **freezed** \+ **json\_serializable** ููููุงูุงุช ููุชุงุฆุฌ API.  
**ุงููุงุฆุฏุฉ:** ููุฏ ุฃูู \+ ุฃูุงู ุฃูุจุฑ \+ ูุณุงูุงุฉ ูููู ููุณูุฎุฉ (`copyWith`).  
**ุงูุชุทุจูู:** `@freezed` ูููEntities (`Product`, `CartItem`, `User`) \+ ุชูููุฏ `fromJson/toJson`.

# **4\) ุทุจูุฉ ุงููุฌุงู (Domain) ุฃูููุง**

**ุงููุงุนุฏุฉ:** ูู ููุฒุฉ ููุง **Use-cases** (ุฏูุงู/ููุงุณุงุช) ุชุนูู ุนูู **Entities** ููุงุฌูุฉ **Repository**.  
**ุงููุงุฆุฏุฉ:** ูุงุฌูุฉ ูุงุถุญุฉ ูููUIุ ุชุบููุฑ ุงููAPI ูุง ูููุณ ุงููุงุฌูุฉ.  
**ุงูุชุทุจูู:**

* `GetProductList()`, `AddToCart()`, `PlaceOrder()`โฆ  
* `abstract class CatalogRepo { Future<Result<List<Product>>> getProducts(...); }`

# **5\) ุทุจูุฉ ุงูุจูุงูุงุช (Data) ูุน Result/Failure**

**ุงููุงุนุฏุฉ:** ูุง ุชุฑูู Exceptions ููุฃุนููุ ุฃุฑุฌูุน `Result<Success, Failure>`.  
**ุงููุงุฆุฏุฉ:** ุชุนุงูู ููุญูุฏ ูุน ุงูุฃุฎุทุงุก ูู UI (ุดุจูุฉ/ุณูุฑูุฑ/ุชุญูู/ุฐุงูุฑุฉ).  
**ุงูุชุทุจูู:**

* `sealed class AppFailure { Network(); Server(msg); Cache(); Auth(); Validation(msg); }`  
* `typedef Result<T> = Either<AppFailure, T>;`

# **6\) ุงูุชูุฌูู (Routing) ูุงููุญุฏุงุช**

**ุงููุงุนุฏุฉ:** ุงุณุชุฎุฏู **go\_router** ูุน ุญุฑุงุณ (Guards) ูุจุณูุทุฉุ ูุณููู ุงููุณุงุฑุงุช ุจูุถูุญ.  
**ุงููุงุฆุฏุฉ:** Deep-link ุฏุงุฎูู ุจุณูุทุ ุฃููุงุฏ ุฃููุ ุชูููู ูููู ุงุฎุชุจุงุฑู.  
**ุงูุชุทุจูู:**

* `/`, `/catalog`, `/product/:id`, `/cart`, `/checkout`, `/orders`.  
* Guard ุฎููู ููุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู ูุจู `/checkout`.

# **7\) ุชุตููู ูุธุงู (Design System) ููุญูุฏ**

**ุงููุงุนุฏุฉ:** Theme ูุงุญุฏ \+ Tokens (ุฃููุงู/ููุงูุด/ุฒูุงูุง/Typography) \+ Widgets ูุดุชุฑูุฉ (Buttons, Cardsโฆ).  
**ุงููุงุฆุฏุฉ:** ุดูู ุซุงุจุช ูุณูู ุงูุชุบููุฑุ ุชูููู ุงูุชูุฑุงุฑ.  
**ุงูุชุทุจูู:**

* `AppTheme`: light/darkุ ุฃุญุฌุงู ุฎุท ูุชุฏุฑุฌุฉุ ูููููุงุช ุฌุงูุฒุฉ.  
* `Spacing.xs/s/m/l/xl`, `Radius.s/m/l`, `Elevation.s/m/l`.

# **8\) ุงูุชุนุฏุฏ ุงููุบูู ูRTL**

**ุงููุงุนุฏุฉ:** ูุนูู **l10n** ุจูููุงุช `.arb`ุ ูุงุฏุนู RTL ุงูุชุฑุงุถููุง (ุงูุนุฑุจูุฉ).  
**ุงููุงุฆุฏุฉ:** ูุตูุต ููุธููุฉุ ุณูููุฉ ุชุฑุฌูุฉุ ุชุฌุฑุจุฉ ุนุฑุจูุฉ ุณูููุฉ.  
**ุงูุชุทุจูู:**

* `flutter gen-l10n`, ููุงุชูุญ ูุซู `product_title`, `add_to_cart`.  
* ุงุฎุชุจุฑ ุชูุจูุฑ ุงูุฎุท ู`TextDirection.rtl`.

# **9\) ุงูุชุฎุฒูู ุงููุญูู ูCache**

**ุงููุงุนุฏุฉ:** ุงูุตู **Cache** ุนู **State**ุ ุงุณุชุฎุฏู **Hive/Drift** ุฃู SharedPreferences ููุฎููู.  
**ุงููุงุฆุฏุฉ:** ูุชุญ ุณุฑูุน ุฏูู ุดุจูุฉ \+ ุนูู ุฃูููุงูู ุฃุณุงุณู.  
**ุงูุชุทุจูู:**

* Cache ูููcatalog ููุฏุฉ N ุฏูุงุฆูุ ูุณูุฉ ูุญูููุฉ ุฏุงุฆูุฉ.  
* ุณูุงุณุฉ: Stale-While-Revalidate (ุงุนุฑุถ ุงููุฏูู ุซู ุญุฏูุซ ุจุตูุช).

# **10\) ุงูุดุจูุฉ ูุงููุฑููุฉ**

**ุงููุงุนุฏุฉ:** ุนููู ูุงุญุฏ (ูุซูุงู **Dio**) ูุน Interceptorsุ ูุฅุนุงุฏุฉ ูุญุงููุฉ **Exponential Backoff**.  
**ุงููุงุฆุฏุฉ:** ูููุฉ ุถุฏ ูุดุงูู ุงูุดุจูุฉ ูุดูุงููุฉ ุณุฌูุงุช.  
**ุงูุชุทุจูู:**

* Timeout ููุญูุฏุ ุชูุญูุฏ ุฑุคูุณ ุงูุทูุจุงุช (Headers)ุ ูุญุต ุงุชุตุงู `connectivity_plus`.  
* ุตู ุงูุชุธุงุฑ ููุทูุจุงุช ุงูุญุฑูุฌุฉ (Queue) ุนูุฏ ููุฏ ุงูุดุจูุฉ ุซู ุฅุฑุณุงู ูุงุญููุง (idempotency key).

# **11\) ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**

**ุงููุงุนุฏุฉ:** ุดุงุดุฉ ุฃุฎุทุงุก ูุฏูุฉ \+ Snackbars ูุฎุตูุตุฉ ููู ุฎุทุฃ Domain.  
**ุงููุงุฆุฏุฉ:** ููู ุงููุณุชุฎุฏู ูููุดููุฉ ุฏูู ุถูุงุน.  
**ุงูุชุทุจูู:**

* Global `FlutterError.onError` \+ `runZonedGuarded` ูุน ุชุณุฌูู.  
* ุฎุฑุงุฆุท: `Network โ โุชุฃูุฏ ูู ุงูุดุจูุฉโ`, `Auth โ โุณุฌูู ุฏุฎูููโ`, `Validation โ ุฑุณุงุฆู ุญููู`.

# **12\) ุงูุฃุฏุงุก**

**ุงููุงุนุฏุฉ:** ุงุณุชุฎุฏู `const` ุญูุซูุง ุฃูููุ ูุณูู Widgetsุ ุชุฌููุจ ุงูุนูู ุงูุซููู ุนูู ุงููUI thread.  
**ุงููุงุฆุฏุฉ:** ุณูุงุณุฉ (FPS ุซุงุจุช) ูุงุณุชููุงู ุฃูู.  
**ุงูุชุทุจูู:**

* ููุงุฆู ูุจูุฑุฉ: `ListView.builder/Slivers`, `AutomaticKeepAlive` ูููููุงุช.  
* ุตูุฑ: `cached_network_image` \+ ุฃุญุฌุงู ููุงุณุจุฉ.  
* Debounce ููุจุญุซุ Throttle ููููุฑุงุช.

# **13\) ุงูุชููุฆุฉ ูุงูุชูููู (Config)**

**ุงููุงุนุฏุฉ:** `flavors` \+ `dart-define`ุ ูููู `AppConfig` ูุญูู ูู `ProviderScope`.  
**ุงููุงุฆุฏุฉ:** ุชุจุฏูู ุจูุฆุงุช ูููุงุชูุญ ุจุณูููุฉ ุจุฏูู ููุณ ุงูููุฏ.  
**ุงูุชุทุจูู:**

* `--dart-define=ENV=prod` โ `AppConfig(baseUrl, featureFlags, logLevel)`.

# **14\) ุงูุฃูุงู**

**ุงููุงุนุฏุฉ:** ุฎุฒูู ุงูุฑููุฒ ูู **flutter\_secure\_storage**ุ ูุง ุชุณุฌูู ุจูุงูุงุช ุญุณูุงุณุฉุ ููููุฑ ูู **TLS pinning**.  
**ุงููุงุฆุฏุฉ:** ุญูุงูุฉ ุฌูุณุงุช ุงููุณุชุฎุฏู ูุชูููู ุงููุฎุงุทุฑ.  
**ุงูุชุทุจูู:**

* Token ูู Keystore/Keychainุ ุชูุธููู ุนูุฏ ุชุณุฌูู ุงูุฎุฑูุฌ.  
* ุชูููุญ ุงูุณุฌูุงุช (ูุง ุชุทุจุน Headers/Body ุงูุญุณูุงุณุฉ).

# **15\) ุงูุงุฎุชุจุงุฑุงุช (Test Pyramid)**

**ุงููุงุนุฏุฉ:** ูุฑูู ุงุฎุชุจุงุฑุงุช: **Unit** (Use-cases, Repos), **Widget** (Screens), **Integration** (ุฑุญูุฉ ุดุฑุงุก).  
**ุงููุงุฆุฏุฉ:** ุซูุฉ ุจุงูุชุบููุฑุงุช \+ ุจููุน ุฃุนุทุงู ุฃูู.  
**ุงูุชุทุจูู:**

* Mocktail ููุงุฌูุงุช Reposุ Golden tests ูููUI ุงูุฃุณุงุณูุฉุ ุณููุงุฑูู Checkout ูุงูู.

# **16\) ุงูุณุฌููุงุช ูุงููุฑุงูุจุฉ (ูุญูููุง)**

**ุงููุงุนุฏุฉ:** Logger ูุฑูุฒู ุจูุณุชููุงุช (debug/info/warn/error) \+ ููุงุชูุญ ุฅุทูุงุก.  
**ุงููุงุฆุฏุฉ:** ุชุชุจูุน ุฃุนุทุงูู ูุญูููุง ุจุณุฑุนุฉ ุฃุซูุงุก ุงูุชุทููุฑ.  
**ุงูุชุทุจูู:**

* `logger` ูุน Prefix ููููุฒุฉุ ุทุจุงุนุฉ ูุฎุชุตุฑุฉ ูู ุงูุฅูุชุงุฌ (ุฃู ุชุนุทูู).

# **17\) ููุงุนุฏ ุงูุชุฑููุฒ ูุงููุฑุงุฌุนุฉ**

**ุงููุงุนุฏุฉ:** lints ุตุงุฑูุฉ (`flutter_lints`/`very_good_analysis`) \+ `dart format` \+ PR template.  
**ุงููุงุฆุฏุฉ:** ุงุชุณุงู ุงูููุฏ ูุณูููุฉ ุงููุฑุงุฌุนุฉ.  
**ุงูุชุทุจูู:**

* CI ุจุณูุท: `analyze`, `test`, `format --set-exit-if-changed`.

---

## **ูุซุงู ูููู ููุฒุฉ (Feature) โ โCatalogโ**

`/features/catalog`  
  `/presentation`  
    `/pages/ catalog_page.dart`  
    `/widgets/ product_tile.dart`  
    `catalog_controller.dart (StateNotifier)`  
  `/domain`  
    `product.dart  (freezed)`  
    `catalog_repo.dart (abstract)`  
    `usecases/`  
      `get_product_list.dart`  
  `/data`  
    `catalog_repo_impl.dart`  
    `catalog_remote_ds.dart`  
    `catalog_local_ds.dart`

## **ูููุฐุฌ Result/Failure ูุฎุชุตุฑ**

`sealed class AppFailure {`  
  `const AppFailure();`  
  `factory AppFailure.network() = NetworkFailure;`  
  `factory AppFailure.server(String msg) = ServerFailure;`  
  `factory AppFailure.cache() = CacheFailure;`  
  `factory AppFailure.auth() = AuthFailure;`  
  `factory AppFailure.validation(String msg) = ValidationFailure;`  
`}`

`class Result<T> {`  
  `final T? ok;`  
  `final AppFailure? err;`  
  `const Result.ok(this.ok) : err = null;`  
  `const Result.err(this.err) : ok = null;`  
  `bool get isOk => err == null;`  
`}`

## **ูุงุฆูุฉ โุฌุงูุฒูุฉ ุงูุฅุทูุงูโ (ุฏุงุฎู ุงูุชุทุจูู ููุท)**

*  ุงูุทุจูุงุช ูููุตูุฉ (Presentation/Application/Domain/Data).  
*  Riverpod/Bloc ููุญูุฏ ูู ูู ุงููุฒุงูุง \+ DI ุนุจุฑ Providers.  
*  ููุงุฐุฌ `freezed` \+ `json_serializable` ููุนููุฉ.  
*  Routing ุจู go\_router \+ ุญุฑุงุณ ุงูุฏุฎูู.  
*  Cache ูุญูู \+ ุณูุงุณุฉ Stale-While-Revalidate.  
*  Result/Failure ููุญูุฏุ ุจุฏูู Exceptions ุทุงููุฉ ูููUI.  
*  ุดุงุดุฉ ุฃุฎุทุงุก ูSnackbars ููุญูุฏุฉ ุงูุฑุณุงุฆู.  
*  ุฃุฏุงุก: constุ ููุงุฆู ูุจููุฉุ ุตูุฑ ููุฎุฒููุฉุ ุจุญุซ ููุฎูููุถ (debounce).  
*  Config ุนุจุฑ flavors ู`dart-define`.  
*  ุฃูุงู: secure storageุ ุณุฌูุงุช ููููุญุฉ.  
*  ุงุฎุชุจุงุฑุงุช: Unit/Widget/Integration ูุฑุญูุฉ Checkout.  
*  Lints \+ CI ุชุญููู/ุงุฎุชุจุงุฑุงุช.


---

## ๐ **Back to Home | ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ**

[โ Back to Main Index | ุงูุนูุฏุฉ ููููุฑุณ ุงูุฑุฆูุณู](../../../index.html)

---
